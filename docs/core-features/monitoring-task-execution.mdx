---
title: "监控任务执行"
description: "了解如何通过实时日志、批准和交互式控件监控编程代理执行"
sidebarTitle: "监控任务执行"
---

当您启动任务时，主面板提供执行期间发生的一切的实时可见性。观察代理思考问题、采取行动并响应您的反馈。

<Frame>
<img src="/images/vk-agent-log-main.png" alt="任务执行显示带有操作和响应的实时代理日志" />
</Frame>

## 执行期间发生什么

当您启动任务尝试时，Vibe Kanban 会协调几个步骤来创建独立环境并执行您的任务：

1. **Git 工作树创建**：为此任务尝试创建独立环境
2. **设置脚本运行**：项目设置中定义的任何设置脚本自动运行
3. **代理执行**：编程代理使用标题和描述处理您的任务
4. **实时监控**：通过任务界面中的流式日志观察进度
5. **后续问题**：执行后继续对话以完善结果

### Git 工作树

Vibe Kanban 使用 Git 工作树为每个任务尝试创建独立环境。这些环境是临时的，并在执行完成后自动清理。

<Info>
工作树确保任务尝试不会相互干扰或干扰您的主工作目录。
</Info>

## 执行流程

### 1. 设置脚本

您将看到的第一个日志是项目的设置脚本运行（如果已配置）。这会在代理开始工作之前安装依赖项并准备环境。

### 2. 任务发送给代理

您的任务标题和描述会发送给代理。您将看到这作为启动工作的初始消息。

### 3. 实时操作

当代理工作时，每个操作都会实时出现：

- **推理**：代理分析任务时的思考过程
- **命令**：正在执行的 Shell 命令
- **文件操作**：正在创建、修改或删除的文件
- **工具使用**：API 调用、搜索和其他工具调用
- **响应**：代理消息和状态更新

**可展开操作**：点击文件更改操作以展开它们，并查看文件的哪个部分被修改。

### 4. 操作批准

<Note>
当前支持 Codex 的批准，Claude Code 即将推出。
</Note>

当代理采取需要人工批准的操作时，操作下方会出现一行带有批准/拒绝按钮。

<Frame>
<img src="/images/vk-approval.png" alt="批准提示显示勾选和叉号按钮以批准或拒绝代理操作" />
</Frame>

点击勾选以批准或叉号以拒绝操作。代理将根据您的决定继续或调整。

### 5. 清理脚本

在每个代理回合后，您的清理脚本运行（如果已配置）。这对于运行 linter、格式化程序或其他执行后任务很有用。

### 6. 提交消息

Vibe Kanban 根据代理发送的最后一条消息生成提交消息。这些自动消息可能并不总是最具描述性的。

<Tip>
合并到基础分支时，使用 GitHub 的"squash & merge"选项重写提交，并总结实际更改的内容。或者，要求您的编程代理手动清理提交。
</Tip>

## 执行期间的交互

### 键盘快捷键

- **Cmd/Ctrl + Enter**：向代理发送消息
- **Enter**：在消息字段中创建新行
- **Shift + Tab**：切换代理配置文件（例如，从 PLAN 到 DEFAULT）

### 查看任务详情

点击左上角的任务标题以导航到任务视图。

<Frame>
<img src="/images/vk-task-title.png" alt="左上角的任务标题，点击查看完整任务详情" />
</Frame>

这使您可以：
- 查看完整的任务描述
- 编辑任务标题或描述
- 查看所有任务尝试

### 编辑先前的消息

<Note>
Claude Code、Amp、Codex、Gemini 和 Qwen 支持消息编辑。
</Note>

<Frame>
<img src="/images/vk-edit-message.png" alt="编辑先前的消息，带有保存或取消更改的选项" />
</Frame>

当您的编程代理支持时，您可以编辑对话中的先前消息。这将使代理的工作恢复到该点，并使用您编辑的消息重放对话。

<Warning>
编辑消息会撤销所有后续代理工作。当您需要更正或澄清较早的指令时，请小心使用此功能。
</Warning>

## 查看进程

点击右上角的三点图标并选择**查看进程**以查看所有正在运行和已完成的进程。

<Frame>
<img src="/images/vk-processes-dropdown.png" alt="进程下拉菜单显示编程代理和开发服务器进程" />
</Frame>

这显示：
- 编程代理会话
- 开发服务器
- 构建脚本
- 任何其他正在运行的进程

每个进程都显示其状态和执行时间线。点击任何进程以查看其特定输出日志。

<Tip>
对于开发服务器日志，推荐的查看方式是通过[测试您的应用程序](/core-features/testing-your-application)，在那里您可以在实时预览的同时查看日志。
</Tip>

## 相关文档

- [测试您的应用程序](/core-features/testing-your-application) - 使用实时预览和开发服务器日志测试您的应用程序
- [审查代码更改](/core-features/reviewing-code-changes) - 审查代理所做的更改
- [创建项目](/core-features/creating-projects) - 配置设置和清理脚本
- [代理配置](/configuration-customisation/agent-configurations) - 自定义代理行为和配置文件
